[bar/main]
background=${colors.bg}
border-color=${colors.xbg}
border-size=0
enable-ipc=true
fixed-center=true
font-0=FantasqueSansMono Nerd Font:size=10.5;2
font-1=M+ 2m:size=10.5;3
foreground=${colors.x7}
height=17
locale=en_US.UTF-8
modules-center=mpd wspc_b spotify
modules-left=wspc ewmh wspc_b taskwarrior
modules-right=battery wspc_b pulseaudio nm-launcher wireless nm-launcher date
override-redirect=true
separator=
width=100%
wm-name=xmonad

[colors]
bg=${colors.transparent}
primary=${colors.x1}
transparent=#00000000
x0=#fa8f05
x1=#fa8f05
x2=#121212
x3=#121212
x4=#fa8f05
x5=#fa8f05
x6=#fa8f05
x7=#fa8f05
xbg=${xrdb:background}

[module/battery]
adapter=ACAD
battery=BAT0
format-charging=<ramp-capacity> <label-charging>
format-charging-background=${colors.primary}
format-charging-foreground=${colors.xbg}
format-discharging=<ramp-capacity> <label-discharging>
format-discharging-background=${colors.primary}
format-discharging-foreground=${colors.xbg}
format-full=<label-full>
format-full-background=${colors.primary}
format-full-foreground=${colors.xbg}
full-at=99
label-charging="%percentage%% "
label-discharging="%percentage%% "
label-full="   %percentage%% "
ramp-capacity-0="  "
ramp-capacity-1="  "
ramp-capacity-2="  "
ramp-capacity-3="  "
ramp-capacity-4="  "
ramp-capacity-5="  "
ramp-capacity-6="  "
ramp-capacity-7="  "
ramp-capacity-8="  "
ramp-capacity-9="  "
type=internal/battery

[module/date]
date="   %d/%m/%Y"
format=<label>
format-background=${colors.primary}
format-foreground=${colors.xbg}
interval=1
label="%date% %time% "
time=%I:%M %p
type=internal/date

[module/]
type = custom/script
exec = ~/.config/polybar/popup-calendar.sh
interval = 5
click-left = ~/.config/polybar/popup-calendar.sh --popup
format-background = ${colors.alt-background}
format-foreground = ${colors.alt-foreground}
label = %output:25%

[module/ewmh]
enable-click=true
enable-scroll=true
format="    <label-state>"
format-background=${colors.primary}
format-foreground=${colors.xbg}
icon-0=1;α
icon-1=2;β
icon-2=3;γ
icon-3=4;δ
icon-4=5;ε
icon-5=6;ζ
icon-6=7;η
icon-7=8;θ
icon-8=9;ι
icon-9=0;κ
label-active=*
label-active-foreground=${colors.xbg}
label-active-padding=1
label-dimmed=%index%
label-dimmed-padding=1
label-empty=_
label-empty-foreground=${colors.xbg}
label-empty-padding=1
label-occupied=%icon%
label-occupied-foreground=${colors.xbg}
label-occupied-padding=1
label-urgent=!
label-urgent-foreground=${colors.xbg}
label-urgent-padding=1
pin-workspaces=false
show-all=true
type=internal/xworkspaces

[module/mpd]
format-online=<label-song>
format-online-background=${colors.primary}
format-online-foreground=${colors.xbg}
host=127.0.0.1
label-song=" ﱘ  %title% "
label-song-maxlen=40
port=6600
type=internal/mpd

[module/spotify]
type = custom/script
interval = 1
format-prefix = " "
format = <label>
exec = python $HOME/.config/polybar/spotify_status.py -f 'ﱘ {song} '
format-background=${colors.primary}
format-foreground=${colors.xbg}

[module/pulseaudio]
format-volume=" <ramp-volume> <label-volume> "
format-volume-background=${colors.primary}
format-volume-foreground=${colors.xbg}
interval=10
label-muted=" 婢  Muted "
label-muted-background=${colors.primary}
label-muted-foreground=${colors.xbg}
ramp-volume-0="  "
ramp-volume-1="  "
ramp-volume-2="  "
sink=alsa_output.pci-0000_00_14.2.analog-stereo
type=internal/pulseaudio
use-ui-max=true

[module/taskwarrior]
interval = 30
type = custom/script
exec = $HOME/.config/polybar/task_polybar.sh
format = <label>
format-foreground = ${colors.xbg}
format-background = ${colors.primary}
format-prefix = " "
click-left = task "$((`cat /tmp/tw_polybar_id`))" done

[module/wireless]
format-connected=<label-connected>
format-connected-background=${colors.primary}
format-connected-foreground=${colors.xbg}
format-disconnected=<label-disconnected>
format-disconnected-background=${colors.primary}
format-disconnected-foreground=${colors.xbg}
interface=wlan0
interval=10
label-connected="   %essid% "
label-disconnected="   Disconnected "
type=internal/network
click-left = nm-connection-editor

[module/nm-launcher]
type = custom/text
format-background=${colors.xbg}
format-foreground=${colors.primary}
content = " " 
click-left = sh .config/rofi/rofi-wifi-menu.sh

[module/wspc]
content=" "
content-background=${colors.primary}
content-foreground=${colors.primary}
type=custom/text

[module/wspc_b]
content=" "
content-background=${colors.bg}
content-foreground=${colors.bg}
type=custom/text

[module/xmonad]
exec=/run/current-system/sw/bin/xmonad-log
format=<label>
format-background=${colors.primary}
format-foreground=${colors.xbg}
label=": %output% "
tail=true
type=custom/script

[settings]
pseudo-transparency=true
